import{u as b,a as l,b as C,d as h,e,w as t,f as j,o as _,c as x,g as m,t as F,h as U,i as B,r as S}from"./index-Dat5jBic.js";import"./makeRequest--D6H4PBn.js";import{Y as M,M as g}from"./index-3l8bI6ml.js";import{V as R}from"./VForm-D3cNn-pY.js";import{V as T}from"./VContainer-78sSKkzy.js";import{V as s}from"./VRow-CPb2TZc_.js";import{V as u}from"./VCol-jvOlJwXo.js";import{V as v}from"./VTextField-DTg4PHuU.js";import{V as K}from"./VCard-DtazlwOj.js";import{V as L}from"./VBtn-SnabwZTP.js";import"./index-kn8h3yf-.js";import"./forwardRefs-DWGaNmQL.js";import"./index-KB6vzXfe.js";import"./VAvatar-BRF2LNTg.js";import"./VProgressCircular-CYOt_huZ.js";const $={__name:"LoginForm",setup(Y){const c=b(),n=l(""),d=l(""),p=l(!1),f=l(!1),i=l(""),y=[r=>r?!0:"Требуется ввести логин",r=>(r==null?void 0:r.length)>=3?!0:"Логин должен быть больше 3-х символов"],k=[r=>r?!0:"Требуется ввести пароль",r=>(r==null?void 0:r.length)>=3?!0:"Пароль должен быть больше 3-х символов"];function V(){f.value=!0,i.value="",n.value=="123"&&d.value=="123"?(c.updateToken(M.string.uuid()),c.setUserName({userFirstName:g.person.firstName(),userSecondName:g.person.lastName()}),console.log("sdasda"),B.push("/me")):i.value="Что то пошло не так",f.value=!1}const N=C(()=>!(n.value.length>=3&&d.value.length>=3));return(r,o)=>{const w=S("router-link");return _(),h("div",{class:"login",onKeydown:j(V,["enter"])},[e(R,{modelValue:p.value,"onUpdate:modelValue":o[2]||(o[2]=a=>p.value=a),class:"w-100","validate-on":"input"},{default:t(()=>[e(T,null,{default:t(()=>[e(s,{justify:"center"},{default:t(()=>[e(u,{cols:"12",md:"4"},{default:t(()=>[e(v,{placeholder:"Логин",modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=a=>n.value=a),rules:y,variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{justify:"center"},{default:t(()=>[e(u,{cols:"12",md:"4"},{default:t(()=>[e(v,{placeholder:"Пароль",modelValue:d.value,"onUpdate:modelValue":o[1]||(o[1]=a=>d.value=a),rules:k,variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),i.value?(_(),x(s,{key:0,justify:"center"},{default:t(()=>[e(u,{md:"4"},{default:t(()=>[e(K,{class:"pa-5",style:{"border-color":"red"},variant:"outlined"},{default:t(()=>[m(F(i.value),1)]),_:1})]),_:1})]),_:1})):U("",!0),e(s,{justify:"center"},{default:t(()=>[e(u,{"align-self":"end",cols:"12",md:"4"},{default:t(()=>[e(L,{loading:f.value,color:"blue",class:"confirm--button",block:"",onClick:V,disabled:N.value},{default:t(()=>[m(" Войти ")]),_:1},8,["loading","disabled"])]),_:1})]),_:1}),e(s,{justify:"center"},{default:t(()=>[e(u,{class:"pa-5 d-flex justify-center align-center",md:"4"},{default:t(()=>[m(" Не зарегистрированные ? "),e(w,{to:"reg"},{default:t(()=>[m(" Зарегистрируйтесь")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],32)}}};export{$ as default};
